<body>
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Je calcule votre budget !</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
  
  <body class="min-h-screen py-8 px-4">
    <div class="container mx-auto max-w-4xl">
        <!-- Header -->
        
        <!-- Calculator Card -->
        <div class="calculator-card animate-fade-in" style="animation-delay: 0.1s;">
            <!-- Header -->
            <div class="gradient-header p-6 text-white">
                <h2 class="text-2xl font-semibold">Calculateur de budget</h2>
                <p class="opacity-90">Ajustez les paramètres pour obtenir une estimation</p>
            </div>
            
            <!-- Calculator Body -->
            <div class="p-6 md:p-8">
                <!-- Number of Pages -->
                <div class="mb-8">
                    <div class="flex justify-between items-center mb-2">
                        <label class="text-gray-700 font-medium">Nombre de pages</label>
                        <span class="text-indigo-600 font-semibold" id="pagesValue">5 pages</span>
                    </div>
                    <input type="range" min="1" max="20" value="5" class="input-range w-full" id="pagesInput">
                    <div class="flex justify-between text-xs text-gray-500 mt-1">
                        <span>1</span>
                        <span>20</span>
                    </div>
                </div>
                
                <!-- Complexity Level -->
                <div class="mb-8">
                    <label class="text-gray-700 font-medium block mb-3">Niveau de complexité</label>
                    <div class="grid grid-cols-3 gap-3">
                        <div class="complexity-option selected text-center py-3 px-4 rounded-lg border border-gray-200" data-value="0.1" id="easyOption">
                            <div class="font-semibold">Facile</div>
                            <div class="text-sm text-gray-500">+10%</div>
                        </div>
                        <div class="complexity-option text-center py-3 px-4 rounded-lg border border-gray-200" data-value="0.25" id="mediumOption">
                            <div class="font-semibold">Moyen</div>
                            <div class="text-sm text-gray-500">+25%</div>
                        </div>
                        <div class="complexity-option text-center py-3 px-4 rounded-lg border border-gray-200" data-value="0.5" id="complexOption">
                            <div class="font-semibold">Compliqué</div>
                            <div class="text-sm text-gray-500">+50%</div>
                        </div>
                    </div>
                </div>
                
                <!-- Service Type -->
                <div class="mb-8">
                    <label class="text-gray-700 font-medium block mb-3">Services requis</label>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="service-option selected p-4 rounded-lg border border-gray-200 text-center" id="designOption">
                            <div class="flex justify-center mb-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-indigo-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                            </div>
                            <div class="font-semibold">Design</div>
                            <div class="text-sm text-gray-500">UI/UX & Graphisme</div>
                        </div>
                        <div class="service-option p-4 rounded-lg border border-gray-200 text-center" id="devOption">
                            <div class="flex justify-center mb-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-indigo-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                                </svg>
                            </div>
                            <div class="font-semibold">Développement</div>
                            <div class="text-sm text-gray-500">Code & Fonctionnalités</div>
                        </div>
                    </div>
                    <div class="text-sm text-gray-600 mt-3 flex items-center" id="serviceTypeDescription">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-indigo-500 mr-2" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                        </svg>
                        <span>Sélectionnez un ou les deux services selon vos besoins</span>
                    </div>
                </div>
                
                <!-- Results Section -->
                <div class="bg-indigo-50 p-6 rounded-xl mb-6">
                    <div class="flex flex-col md:flex-row justify-between items-center">
                        <div>
                            <h3 class="text-lg font-medium text-gray-800 mb-1">Budget estimé</h3>
                            <p class="text-sm text-gray-600">Prix hors taxes</p>
                        </div>
                        <div class="text-right mt-4 md:mt-0">
                            <div class="text-4xl font-bold text-indigo-600 price-tag" id="totalPrice">2 750,00 €</div>
                        </div>
                    </div>
                </div>
                
                <!-- Price Breakdown -->
                <div class="border-t border-gray-200 pt-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Détail du calcul</h3>
                    <div class="space-y-3 text-sm" id="priceBreakdown">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Price Disclaimer -->
                <div class="disclaimer-box p-4 rounded-lg mt-6">
                    <div class="flex items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600 mr-3 mt-0.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <p class="text-gray-700">
                            <span class="font-medium">Note importante :</span> Ce prix est une estimation préliminaire. Après analyse approfondie de votre projet, de ses spécificités et de vos besoins exacts, je vous fournirai un devis personnalisé et définitif. Chaque projet est unique et mérite une attention particulière.
                        </p>
                    </div>
                </div>
                
                <!-- Contact Button -->
                <div class="mt-8 text-center">
                    <button id="contactBtn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-8 rounded-lg transition-all duration-200 transform hover:scale-105 hover:shadow-lg">
                        Demander un devis personnalisé
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Contact Form Modal -->
        <div id="contactModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
            <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4 animate-fade-in">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-semibold text-gray-800">Demande de devis</h3>
                    <button id="closeModal" class="text-gray-500 hover:text-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <form id="contactForm" class="space-y-4">
                    <div>
                        <label class="block text-gray-700 mb-1">Nom</label>
                        <input type="text" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-1">Email</label>
                        <input type="email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-1">Téléphone</label>
                        <input type="tel" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-1">Description du projet</label>
                        <textarea class="w-full p-3 border border-gray-300 rounded-lg h-24 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required></textarea>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg w-full">
                            Envoyer ma demande
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <!-- Footer -->
        <div class="mt-10 text-center text-gray-500 text-sm animate-fade-in" style="animation-delay: 0.3s;">  
        </div>
    </div>
  </body>


  <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: none!important;
        }
        
        .calculator-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        
        .gradient-header {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
        }
        
        .input-range {
            -webkit-appearance: none;
            height: 8px;
            border-radius: 4px;
            background: #e2e8f0;
            outline: none;
        }
        
        .input-range::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #4f46e5;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(79, 70, 229, 0.3);
            transition: all 0.2s ease;
        }
        
        .input-range::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }
        
        .price-tag {
            transition: all 0.3s ease;
        }
        
        .price-tag.highlight {
            transform: scale(1.05);
        }
        
        .complexity-option {
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .complexity-option.selected {
            background-color: #4f46e5;
            color: white;
        }
        
        .complexity-option:hover:not(.selected) {
            background-color: #e0e7ff;
        }
        
        .service-option {
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }
        
        .service-option.selected {
            border-color: #4f46e5;
            background-color: #eef2ff;
        }
        
        .service-option:hover:not(.selected) {
            background-color: #f5f7ff;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        .disclaimer-box {
            border-left: 4px solid #4f46e5;
            background-color: #eef2ff;
        }

.modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal.hidden {
  display: none;
}

.hidden {
  display: none !important;
}

.modal-content {
  background: white;
  border-radius: 12px;
  padding: 24px;
  max-width: 500px;
  width: 90%;
}
    </style>



<script>
// DOM Elements
const pagesInput = document.getElementById('pagesInput');
const pagesValue = document.getElementById('pagesValue');
const easyOption = document.getElementById('easyOption');
const mediumOption = document.getElementById('mediumOption');
const complexOption = document.getElementById('complexOption');
const designOption = document.getElementById('designOption');
const devOption = document.getElementById('devOption');
const totalPrice = document.getElementById('totalPrice');
const priceBreakdown = document.getElementById('priceBreakdown');
const contactBtn = document.getElementById('contactBtn');
const contactModal = document.getElementById('contactModal');
const closeModal = document.getElementById('closeModal');
const contactForm = document.getElementById('contactForm');
const submitBtn = document.getElementById('submitBtn');
const successMessage = document.getElementById('successMessage');
const errorMessage = document.getElementById('errorMessage');
const closeSuccessBtn = document.getElementById('closeSuccessBtn');
const closeErrorBtn = document.getElementById('closeErrorBtn');

// Quote details hidden fields
const quotePages = document.getElementById('quotePages');
const quoteComplexity = document.getElementById('quoteComplexity');
const quoteServices = document.getElementById('quoteServices');
const quotePrice = document.getElementById('quotePrice');

// Variables
const basePagePrice = 500;
let pages = 5;
let complexityValue = 0.1;
let complexityName = "Facile";
let designSelected = true;
let devSelected = false;

// Multiplicateur réduit pour Design ET Développement
const bothServicesMultiplier = 1.27;

// Set up event listeners
pagesInput.addEventListener('input', updateCalculation);

// Complexity selection
easyOption.addEventListener('click', function() {
  selectComplexity(easyOption, 0.1, "Facile");
});

mediumOption.addEventListener('click', function() {
  selectComplexity(mediumOption, 0.25, "Moyen");
});

complexOption.addEventListener('click', function() {
  selectComplexity(complexOption, 0.5, "Compliqué");
});

function selectComplexity(option, value, name) {
  // Remove selected class from all options
  easyOption.classList.remove('selected');
  mediumOption.classList.remove('selected');
  complexOption.classList.remove('selected');
  
  // Add selected class to clicked option
  option.classList.add('selected');
  
  // Update complexity value
  complexityValue = value;
  complexityName = name;
  
  updateCalculation();
}

// Service selection
designOption.addEventListener('click', () => {
  designSelected = !designSelected;
  
  // Make sure at least one service is selected
  if (!designSelected && !devSelected) {
    designSelected = true;
  }
  
  updateServiceSelection();
  updateCalculation();
});

devOption.addEventListener('click', () => {
  devSelected = !devSelected;
  
  // Make sure at least one service is selected
  if (!designSelected && !devSelected) {
    devSelected = true;
  }
  
  updateServiceSelection();
  updateCalculation();
});

function updateServiceSelection() {
  // Update design option styling
  if (designSelected) {
    designOption.classList.add('selected');
  } else {
    designOption.classList.remove('selected');
  }
  
  // Update dev option styling
  if (devSelected) {
    devOption.classList.add('selected');
  } else {
    devOption.classList.remove('selected');
  }
}

// Modal functionality - CORRECTION ICI
contactBtn.addEventListener('click', function() {
  console.log("Bouton de contact cliqué");
  
  // Mettre à jour les champs cachés si ils existent
  if (quotePages) quotePages.value = pages;
  if (quoteComplexity) quoteComplexity.value = complexityName;
  
  let services = [];
  if (designSelected) services.push("Design");
  if (devSelected) services.push("Développement");
  if (quoteServices) quoteServices.value = services.join(" et ");
  
  if (quotePrice) quotePrice.value = totalPrice.textContent;
  
  // Afficher le modal
  contactModal.classList.remove('hidden');
  
  // Afficher le formulaire et cacher les messages
  if (contactForm) contactForm.classList.remove('hidden');
  if (successMessage) successMessage.classList.add('hidden');
  if (errorMessage) errorMessage.classList.add('hidden');
});

if (closeModal) {
  closeModal.addEventListener('click', function() {
    contactModal.classList.add('hidden');
  });
}

if (closeSuccessBtn) {
  closeSuccessBtn.addEventListener('click', function() {
    contactModal.classList.add('hidden');
  });
}

if (closeErrorBtn) {
  closeErrorBtn.addEventListener('click', function() {
    errorMessage.classList.add('hidden');
    contactForm.classList.remove('hidden');
  });
}

if (contactForm) {
  contactForm.addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Show loading spinner
    submitBtn.innerHTML = '<div class="spinner"></div> Envoi en cours...';
    submitBtn.disabled = true;
    
    // Simuler un envoi réussi (pour démo)
    setTimeout(function() {
      // Show success message
      contactForm.classList.add('hidden');
      successMessage.classList.remove('hidden');
      // Reset form
      contactForm.reset();
      submitBtn.innerHTML = 'Envoyer ma demande';
      submitBtn.disabled = false;
    }, 1500);
  });
}

// Close modal when clicking outside
if (contactModal) {
  contactModal.addEventListener('click', function(e) {
    if (e.target === this) {
      this.classList.add('hidden');
    }
  });
}

// Update calculation and display
function updateCalculation() {
  // Get values
  pages = parseInt(pagesInput.value);
  
  // Update pages display
  pagesValue.textContent = `${pages} page${pages > 1 ? 's' : ''}`;
  
  // Calculate base price
  const baseSubtotal = basePagePrice * pages;
  const baseTotal = baseSubtotal * (1 + complexityValue);
  
  // Calculate final price based on services selected
  let finalPrice = 0;
  
  if (designSelected && devSelected) {
    // Both services selected - reduced pricing multiplier
    finalPrice = baseTotal * bothServicesMultiplier;
  } else {
    // Only one service selected - base pricing
    finalPrice = baseTotal;
  }
  
  // Format price with commas and decimals
  const formattedPrice = finalPrice.toLocaleString('fr-FR', {
    minimumFractionDigits: 2,
    maximumFractionDigits: 2
  });
  
  // Update price display with animation
  totalPrice.textContent = `${formattedPrice} €`;
  totalPrice.classList.add('highlight');
  setTimeout(() => {
    totalPrice.classList.remove('highlight');
  }, 300);
  
  // Update price breakdown
  updatePriceBreakdown(basePagePrice, pages, baseSubtotal, complexityValue, complexityName, baseTotal, designSelected, devSelected, finalPrice);
}

// Update price breakdown details
function updatePriceBreakdown(basePrice, pages, subtotal, complexityValue, complexityName, baseTotal, hasDesign, hasDev, finalPrice) {
  const complexityMultiplier = 1 + complexityValue;
  const complexityPercentage = complexityValue * 100;
  
  let breakdownHTML = `
    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
      <span>Prix par page</span>
      <span>${basePrice.toLocaleString('fr-FR')} €</span>
    </div>
    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
      <span>Nombre de pages</span>
      <span>× ${pages}</span>
    </div>
    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
      <span>Sous-total</span>
      <span>${subtotal.toLocaleString('fr-FR')} €</span>
    </div>
    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
      <span>Complexité (${complexityName}: +${complexityPercentage}%)</span>
      <span>× ${complexityMultiplier.toLocaleString('fr-FR')}</span>
    </div>
    <div style="display: flex; justify-content: space-between; margin-bottom: 8px; padding-top: 8px; border-top: 1px solid #e5e7eb; font-weight: 500;">
      <span>Prix de base</span>
      <span>${baseTotal.toLocaleString('fr-FR', {maximumFractionDigits: 2})} €</span>
    </div>
  `;
  
  // Add service information
  let serviceInfo = "";
  if (hasDesign && hasDev) {
    serviceInfo = `
      <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
        <span>Services: Design ET Développement</span>
        <span>× ${bothServicesMultiplier.toLocaleString('fr-FR')}</span>
      </div>
    `;
  } else {
    serviceInfo = `
      <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
        <span>Service: ${hasDesign ? 'Design' : 'Développement'}</span>
        <span>× 1</span>
      </div>
    `;
  }
  
  breakdownHTML += serviceInfo;
  
  breakdownHTML += `
    <div style="display: flex; justify-content: space-between; padding-top: 8px; border-top: 1px solid #e5e7eb; font-weight: 600;">
      <span>Prix final</span>
      <span>${finalPrice.toLocaleString('fr-FR', {maximumFractionDigits: 2})} €</span>
    </div>
  `;
  
  priceBreakdown.innerHTML = breakdownHTML;
}

// Initialize calculation
updateCalculation();

// Débogage
console.log("Bouton de contact:", contactBtn);
console.log("Modal:", contactModal);
</script>